(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1818:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(1074),r=n(374);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e){var t=e._ref,n=e.to,a=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["_ref","to"]);return"string"==typeof n&&/^http/.test(n)?i.a.createElement("a",c({href:n,ref:t},a)):i.a.createElement(r.a,c({to:n,innerRef:t},a))}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).handleClick=function(){t.props.trackingClick(),"function"==typeof t.props.onClick&&t.props.onClick()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=(e.trackingClick,e.targetType,e.trackingRef),n=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["trackingClick","targetType","trackingRef"]);return i.a.createElement(l,s({},n,{onClick:this.handleClick,_ref:t}))},a}(i.a.Component);t.a=Object(o.b)(u,"Link",{reportOnce:!0})},2411:function(e,t,n){e.exports={contentContainer:"_32oZIf",container:"_3OVc7G",buttonsContainer:"Z9w95x",contentImg:"_2UcWyC",contentTxt:"n7nCv0",buttonSignup:"ZI6wag",buttonLogin:"_1b6O3U"}},2412:function(e,t,n){e.exports=n.p+"5a83ec8ec1bc1ea687fdf9c6e68eee0b.png"},2413:function(e,t,n){e.exports={container:"oCaWVh",imageContainer:"_38P8sV",contentContainer:"_1ocGeJ",title:"_3aIzgc",content:"_1rVAuL"}},2414:function(e,t,n){e.exports={container:"_2SEhL1",imageContainer:"_2pvDJp",avatar:"_24_gjS",imagePlaceholder:"_18GHvb",contentContainer:"_2JMQn6",content:"_33fjFM"}},2415:function(e,t,n){e.exports={notiListLabel:"_2qpmpS",notiListLinkViewAll:"_3la0KW"}},2416:function(e,t,n){e.exports={container:"_2Jql4A"}},2736:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(55),o=n(232),r=n(1456),c=n(791),l=n(2411),s=n.n(l),u=n(2412),p=n.n(u),m=n(14),f=function(e){var t=e.showSignupPopup,n=e.showLoginPopup;return a.createElement("div",{className:s.a.container},a.createElement("div",{className:s.a.contentContainer},a.createElement(c.a,{src:p.a,wrapperClassName:s.a.contentImg,className:s.a.contentImg,useImgTag:!0,hidePlaceholder:!0}),a.createElement("p",{className:s.a.contentTxt},Object(m.m)("noti_label_login_required"))),a.createElement("div",{className:s.a.buttonsContainer},a.createElement("button",{className:s.a.buttonSignup,onClick:t},Object(m.m)("label_signup")),a.createElement("button",{className:s.a.buttonLogin,onClick:n},Object(m.m)("label_login"))))},d=n(159),g=n(1189),b=n(1074),v=n(2),C=n(231),h=n(2413),_=n.n(h),y={};var k=Object(b.b)(a.memo(function(e){var t=e.action,n=e.isUnread,i=e.markNotificationAsRead,o=e.trackingRef,r=e.trackingClick,c=t||y,l=c.images,s=c.title,u=c.content;return a.createElement(g.b.Container,{className:_.a.container,onClick:function(e){e.preventDefault(),r(),n&&i({notiId:t.action_id,notiType:v.i.ACTION,notiSubType:t.action_cate}),C.a.handleClick(t)},isUnread:n,ref:o},a.createElement(g.b.ImageContainer,{className:_.a.imageContainer},a.createElement(g.c,{images:l})),a.createElement(g.b.ContentContainer,{className:_.a.contentContainer},a.createElement("div",{className:_.a.title},s),a.createElement("div",{className:_.a.content,dangerouslySetInnerHTML:{__html:u}})))}),"ActionCard",{reportOnce:!0}),N=Object(i.c)(function(e,t){var n=t.action;return{isUnread:d.e.isNotificationUnread(e,{notiId:n.action_id,notiType:v.i.ACTION,notiSubType:n.action_cate})}},{chatWithUser:m.b.chatWithUser,markNotificationAsRead:d.c.markNotificationAsRead})(k),E=n(2414),I=n.n(E),O={};var w=Object(b.b)(a.memo(function(e){var t=e.activity,n=e.markNotificationAsRead,i=e.isUnread,o=e.itemStore,r=e.shopStore,c=e.trackingRef,l=e.trackingClick,s=C.b.getAvatarImage(t,{shopStore:r}),u=C.b.getDescription(t,{itemStore:o});return a.createElement(g.b.Container,{className:I.a.container,isUnread:i,onClick:function(e){e.preventDefault(),l(),i&&n({notiId:t.activity_id,notiType:v.i.ACTIVITY,notiSubType:t.type}),C.b.handleClick(t)},ref:c},a.createElement(g.b.ImageContainer,{className:I.a.imageContainer},a.createElement(g.a,{avatarImage:s})),a.createElement(g.b.ContentContainer,{className:I.a.contentContainer},a.createElement("div",{className:I.a.content,dangerouslySetInnerHTML:{__html:u}})))}),"ActivityCard",{reportOnce:!0}),T=Object(i.c)(function(e,t){var n=t.activity;return{isUnread:d.e.isNotificationUnread(e,{notiId:n.activity_id,notiType:v.i.ACTIVITY,notiSubType:n.type}),shopStore:e.shop||O,itemStore:e.item||O}},{markNotificationAsRead:d.c.markNotificationAsRead})(w),L=n(1818),j=n(1455),A=n(490),S=n(2415),V=n.n(S);var U=function(e){var t=e.notifications;return a.createElement(a.Fragment,null,a.createElement("div",{className:V.a.notiListLabel},Object(m.m)("noti_label_recently_received")),a.createElement("div",{className:V.a.notiListContainer},t.map(function(e,t){var n=Object(A.a)(e);if(!n)return null;var i=n.notiType,o=i+"-"+n.notiId;switch(i){case v.i.ACTION:return a.createElement(N,{key:o,action:e,location:t});case v.i.ACTIVITY:return a.createElement(T,{key:o,activity:e,location:t});default:return null}})),a.createElement(L.a,{className:V.a.notiListLinkViewAll,to:j.a,targetType:"NotificationListViewAll"},Object(m.m)("noti_label_view_all")))},R=n(30),P=n(2416),x=n.n(P);var J={updateLastViewedNotification:o.b.updateLastViewedNotification},W=Object(b.b)(function(e){var t=e.trackingRef,n=e.isLoggedIn,i=e.showLoginPopup,o=e.showSignupPopup,c=e.updateLastViewedNotification,l=e.shouldUpdateLastViewedId,s=e.notifications,u=e.progress;a.useEffect(function(){u!==R.a.INIT&&u!==R.a.REQ&&l&&c()},[u,l,c]);var p=s.length>0,m=a.createElement(r.a,null);return n?p||u!==R.a.INIT&&u!==R.a.REQ?p&&(m=a.createElement(U,{notifications:s})):m=a.createElement(r.b,null):m=a.createElement(f,{showLoginPopup:i,showSignupPopup:o}),a.createElement("div",{className:x.a.container,ref:t},m)},"NotificationContainer",{reportOnce:!0});t.default=Object(i.c)(function(e){return{progress:o.d.getAPIProgress(e),shouldUpdateLastViewedId:o.d.shouldUpdateLastViewedId(e)}},J)(W)}}]);
//# sourceMappingURL=https://shopee.sg/assets/PCSummaryNotificationContainer.9e940590d0f30627a580.js.map