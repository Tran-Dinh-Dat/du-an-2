(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{749:function(e,r,t){"use strict";t.r(r);var n=t(752),a=t(1082),i=t(1880),o=t(1292),s=t(1293),c=t(1871),u=t(1870),d=t(2687),f=t(2684),l=t(1867),h=t(2685),p=function(){function e(){this.name="FetchRequestId"}return e.addBreadcrumb=function(e,r){var t=Object(s.b)();t.addBreadcrumb&&t.addBreadcrumb(e,r)},e.prototype.setupOnce=function(){Object(d.a)()&&Object(f.a)(self,"fetch",function(r){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var i,o=n[0],d="GET";"string"==typeof o?i=o:"Request"in self&&o instanceof Request?(i=o.url,o.method&&(d=o.method)):i=String(o),n[1]&&n[1].method&&(d=n[1].method);var f=Object(s.b)().getClient(),v=f&&f.getDsn();if(v){var b=new c.a(v).getStoreEndpoint();if(b&&i.includes(b))return"POST"===d&&n[1]&&n[1].body&&function(e){try{var r=JSON.parse(e);p.addBreadcrumb({category:"sentry",event_id:r.event_id,level:r.level||u.a.fromString("error"),message:Object(l.d)(r)},{event:r})}catch(e){h.a.error("Error while adding sentry type breadcrumb")}}(n[1].body),r.apply(self,n)}var g={method:d,url:i};return r.apply(self,n).then(function(r){g.status_code=r.status;var t=r.headers.get("x-request-id");return t&&(g.request_id=t),e.addBreadcrumb({category:"fetch",data:g,type:"http"},{input:n,response:r}),r}).catch(function(r){throw e.addBreadcrumb({category:"fetch",data:g,level:u.a.Error,type:"http"},{error:r,input:n}),r})}})},e}();var v=t(46),b=t(296);function g(){return(g=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function m(e){var r=e.SENTRY_KEY,t=e.SENTRY_PROJECT,n=e.GIT_SHA,s=e.GIT_TAG,c=e.ENV,u=e.SOURCE_FILE_HOST,d=e.ROOT_DOMAIN,f=e.userId,l=e.routes,h=e.transport;if(a.e({dsn:"https://"+r+"@fe-reporting.shopeemobile.com/"+t,release:s||n,environment:c,whitelistUrls:[u,d],serverName:d,sampleRate:"live"===c?.5:1,ignoreErrors:[/zaloJSV2/i,/vid_mate_check/i,/onScreenResumed/i,/onScreenPaused/i,/WeixinJSBridge/i,/Failed to register a ServiceWorker/i,/Loading chunk (\d+) failed/i,/Loading CSS chunk (\d+) failed/i,/__gCrWeb/i,/Failed to fetch/i],blacklistUrls:[/chat\..*shopee\..*\/assets\//,/u.c.b.r.o.w.s.e.r/i],beforeSend:function(e){if(!l)return e;var r=Object(b.a)(l,self.location.pathname);if(r&&Array.isArray(r)){var t=r[r.length-1];if(t&&t.route&&t.route.name){var n=t.route.name;e.tags=g({},e.tags,{pageName:n})}}return e},integrations:[new i.Integrations.Breadcrumbs({fetch:!1,xhr:!1}),new p],transport:h}),f&&"-"!==f&&o.e(function(e){e.setUser({id:f})}),"live"!==c){var m=Object(v.c)(),y={};for(var O in m)m.hasOwnProperty(O)&&O.startsWith("SPC_PFB_")&&(y[O]=m[O]);o.e(function(e){e.setExtras(y)})}return i}t.d(r,"initSentry",function(){return m}),t.d(r,"ErrorBoundary",function(){return n.a}),t.d(r,"withErrorBoundary",function(){return n.b})}}]);
//# sourceMappingURL=https://shopee.sg/assets/sentry.046db87e6e8388221e5d.js.map